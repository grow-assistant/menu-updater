digraph DatabaseSchema {
  rankdir=LR;
  node [shape=record, fontname="Arial", fontsize=10];
  edge [fontname="Arial", fontsize=8];

  "api_keys" [label="{api_keys | id: integer NOT NULL (PK)\lapi_key: uuid\llocation_id: integer NOT NULL (FK)\lname: character varying(255) NOT NULL\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\l}"];
  "categories" [label="{categories | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lname: text\ldescription: text\lmenu_id: integer NOT NULL (FK)\ldisabled: boolean\lstart_time: smallint\lend_time: smallint\lseq_num: integer\l}"];
  "device_sessions" [label="{device_sessions | id: integer NOT NULL (PK)\ldevice_token: text\ldevice_type: integer NOT NULL\luser_id: integer NOT NULL (FK)\lexpires_at: timestamp with time zone\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\l}"];
  "discounts" [label="{discounts | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lorder_id: integer NOT NULL (FK)\luser_id: integer NOT NULL (FK)\lamount: numeric NOT NULL\lreason: text\l}"];
  "identities" [label="{identities | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lprovider: text\luid: text\luser_id: integer NOT NULL (FK)\lpicture: text\l}"];
  "indicators" [label="{indicators | id: integer NOT NULL (PK)\lname: character varying(255) NOT NULL\luid: character varying(255)\llocation_id: integer NOT NULL (FK)\lapi_key_id: integer NOT NULL (FK)\lstatus: integer NOT NULL\llast_contact: timestamp with time zone\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lversion: character varying(10)\l}"];
  "items" [label="{items | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lname: text\ldescription: text\lprice: numeric NOT NULL\lcategory_id: integer NOT NULL (FK)\ldisabled: boolean\lseq_num: integer\l}"];
  "location_hours" [label="{location_hours | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\llocation_id: integer NOT NULL (FK)\lday_of_week: character varying(10)\ltime_slot: integer\lopen_time: time without time zone\lclose_time: time without time zone\l}"];
  "locations" [label="{locations | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lname: text\ldescription: text\ltimezone: text NOT NULL\llatitude: double precision\llongitude: double precision\lactive: boolean NOT NULL\ldisabled: boolean NOT NULL\lcode: text\ltax_rate: numeric\lsettings: json\l}"];
  "markers" [label="{markers | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lname: text\ldisabled: boolean\llocation_id: integer NOT NULL (FK)\l}"];
  "menus" [label="{menus | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lname: text\ldescription: text\llocation_id: integer NOT NULL (FK)\ldisabled: boolean\l}"];
  "messages" [label="{messages | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lcontent: text\lsender_id: integer NOT NULL (FK)\lrecipient_id: integer NOT NULL (FK)\lorder_id: integer NOT NULL (FK)\lread: boolean\l}"];
  "option_items" [label="{option_items | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lname: text\ldescription: text\lprice: numeric NOT NULL\loption_id: integer NOT NULL (FK)\ldisabled: boolean\l}"];
  "options" [label="{options | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lname: text\ldescription: text\lmin: integer NOT NULL\lmax: integer NOT NULL\litem_id: integer NOT NULL (FK)\ldisabled: boolean\l}"];
  "order_items" [label="{order_items | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\litem_id: integer NOT NULL (FK)\lquantity: integer NOT NULL\lorder_id: integer NOT NULL (FK)\linstructions: text\l}"];
  "order_option_items" [label="{order_option_items | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lorder_item_id: integer NOT NULL (FK)\lorder_id: integer NOT NULL (FK)\loption_item_id: integer NOT NULL (FK)\l}"];
  "order_ratings" [label="{order_ratings | id: integer NOT NULL (PK)\lorder_id: integer NOT NULL (FK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lacknowledged: boolean\l}"];
  "order_ratings_feedback" [label="{order_ratings_feedback | id: integer NOT NULL (PK)\lvalue: integer NOT NULL\lnotes: character varying(255)\lrating_id: integer NOT NULL (FK)\lcategory_id: integer NOT NULL (FK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\l}"];
  "order_ratings_feedback_responses" [label="{order_ratings_feedback_responses | id: integer NOT NULL (PK)\lfeedback_id: integer NOT NULL (FK)\lresponse_id: integer NOT NULL (FK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\l}"];
  "orders" [label="{orders | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lcustomer_id: integer NOT NULL (FK)\lvendor_id: integer NOT NULL (FK)\llocation_id: integer NOT NULL (FK)\lstatus: integer NOT NULL\ltotal: numeric NOT NULL\ltax: numeric NOT NULL\linstructions: text\ltype: integer NOT NULL\lmarker_id: integer NOT NULL (FK)\lfee: numeric\lloyalty_id: character varying(255)\lfee_percent: numeric\ltip: numeric\l}"];
  "promotions" [label="{promotions | id: integer NOT NULL (PK)\lname: character varying(255) NOT NULL\lcode: character varying(25) NOT NULL\ldescription: text\llocation_id: integer NOT NULL (FK)\lvalue: double precision NOT NULL\ltype: integer NOT NULL\ldisabled: boolean\lexpires: timestamp with time zone\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lsingle_use: boolean\lused: boolean\l}"];
  "rating_categories" [label="{rating_categories | id: integer NOT NULL (PK)\llabel: character varying(255) NOT NULL\ldescription: character varying(25) NOT NULL\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\l}"];
  "rating_responses" [label="{rating_responses | id: integer NOT NULL (PK)\llabel: character varying(255) NOT NULL\ldescription: character varying(25) NOT NULL\lcategory_id: integer NOT NULL (FK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\l}"];
  "role_types" [label="{role_types | id: integer NOT NULL (PK)\lname: text\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\l}"];
  "roles" [label="{roles | user_id: integer NOT NULL (FK)\llocation_id: integer NOT NULL (FK)\lrole_id: integer NOT NULL (FK)\l}"];
  "schema_migrations" [label="{schema_migrations | version: bigint NOT NULL\ldirty: boolean NOT NULL\l}"];
  "user_locations" [label="{user_locations | user_id: integer NOT NULL (FK)\llatitude: double precision NOT NULL\llongitude: double precision NOT NULL\lupdated_at: timestamp with time zone\l}"];
  "users" [label="{users | id: integer NOT NULL (PK)\lcreated_at: timestamp with time zone\lupdated_at: timestamp with time zone\ldeleted_at: timestamp with time zone\lfirst_name: text\llast_name: text\lemail: text\lpicture: text\lphone: text\l}"];

  "api_keys" -> "locations" [label="location_id -> id"];
  "categories" -> "menus" [label="menu_id -> id"];
  "device_sessions" -> "users" [label="user_id -> id"];
  "discounts" -> "orders" [label="order_id -> id"];
  "discounts" -> "users" [label="user_id -> id"];
  "identities" -> "users" [label="user_id -> id"];
  "indicators" -> "locations" [label="location_id -> id"];
  "indicators" -> "api_keys" [label="api_key_id -> id"];
  "items" -> "categories" [label="category_id -> id"];
  "location_hours" -> "locations" [label="location_id -> id"];
  "markers" -> "locations" [label="location_id -> id"];
  "menus" -> "locations" [label="location_id -> id"];
  "messages" -> "users" [label="sender_id -> id"];
  "messages" -> "users" [label="recipient_id -> id"];
  "messages" -> "orders" [label="order_id -> id"];
  "option_items" -> "options" [label="option_id -> id"];
  "options" -> "items" [label="item_id -> id"];
  "order_items" -> "items" [label="item_id -> id"];
  "order_items" -> "orders" [label="order_id -> id"];
  "order_option_items" -> "order_items" [label="order_item_id -> id"];
  "order_option_items" -> "orders" [label="order_id -> id"];
  "order_option_items" -> "option_items" [label="option_item_id -> id"];
  "order_ratings" -> "orders" [label="order_id -> id"];
  "order_ratings_feedback" -> "order_ratings" [label="rating_id -> id"];
  "order_ratings_feedback" -> "rating_categories" [label="category_id -> id"];
  "order_ratings_feedback_responses" -> "order_ratings_feedback" [label="feedback_id -> id"];
  "order_ratings_feedback_responses" -> "rating_responses" [label="response_id -> id"];
  "orders" -> "users" [label="customer_id -> id"];
  "orders" -> "users" [label="vendor_id -> id"];
  "orders" -> "locations" [label="location_id -> id"];
  "orders" -> "markers" [label="marker_id -> id"];
  "promotions" -> "locations" [label="location_id -> id"];
  "rating_responses" -> "rating_categories" [label="category_id -> id"];
  "roles" -> "users" [label="user_id -> id"];
  "roles" -> "locations" [label="location_id -> id"];
  "roles" -> "role_types" [label="role_id -> id"];
  "user_locations" -> "users" [label="user_id -> id"];
}
